{"version":3,"sources":["test/e2e/index.spec.js"],"names":["nuxt","test","before","Nuxt","config","dev","rootDir","__dirname","Builder","build","server","listen","t","html","renderRoute","true","includes","after","close"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA;AACA,IAAIA,IAAI,GAAG,IAAX,C,CAEA;;AACAC,aAAKC,MAAL,CAAY,YAAY;AACtBF,EAAAA,IAAI,GAAG,IAAIG,UAAJ,CAAS,EACd,GAAGC,cADW;AAEdC,IAAAA,GAAG,EAAE,KAFS;AAGdC,IAAAA,OAAO,EAAE,mBAAQC,SAAR,EAAmB,QAAnB;AAHK,GAAT,CAAP;AAKA,QAAM,IAAIC,aAAJ,CAAYR,IAAZ,EAAkBS,KAAlB,EAAN;AACA,QAAMT,IAAI,CAACU,MAAL,CAAYC,MAAZ,CAAmB,IAAnB,EAAyB,WAAzB,CAAN;AACD,CARD,EAQG,KARH,E,CAUA;;;AACA,kBAAK,+BAAL,EAAsC,MAAOC,CAAP,IAAa;AACjD,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMb,IAAI,CAACc,WAAL,CAAiB,GAAjB,EAAsB,EAAtB,CAAvB;AACAF,EAAAA,CAAC,CAACG,IAAF,CAAOF,IAAI,CAACG,QAAL,CAAc,eAAd,CAAP;AACD,CAHD,E,CAKA;;AACAf,aAAKgB,KAAL,CAAW,4BAAX,EAAyC,MAAM;AAC7CjB,EAAAA,IAAI,CAACkB,KAAL;AACD,CAFD","sourceRoot":"D:\\techtok","sourcesContent":["import { resolve } from 'path'\nimport test from 'ava'\nimport { Nuxt, Builder } from 'nuxt'\nimport config from '../../nuxt.config'\n\n// We keep the nuxt and server instance\n// So we can close them at the end of the test\nlet nuxt = null\n\n// Init Nuxt.js and create a server listening on localhost:4000\ntest.before(async () => {\n  nuxt = new Nuxt({\n    ...config,\n    dev: false,\n    rootDir: resolve(__dirname, '../../')\n  })\n  await new Builder(nuxt).build()\n  await nuxt.server.listen(4000, 'localhost')\n}, 30000)\n\n// Example of testing only generated html\ntest('Route / exits and render HTML', async (t) => {\n  const { html } = await nuxt.renderRoute('/', {})\n  t.true(html.includes('Documentation'))\n})\n\n// Close server and ask nuxt to stop listening to file changes\ntest.after('Closing server and nuxt.js', () => {\n  nuxt.close()\n})\n"]}